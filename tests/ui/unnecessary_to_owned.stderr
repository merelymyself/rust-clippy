error: redundant clone
  --> $DIR/unnecessary_to_owned.rs:151:64
   |
LL |     require_c_str(&CString::from_vec_with_nul(vec![0]).unwrap().to_owned());
   |                                                                ^^^^^^^^^^^ help: remove this
   |
   = note: `-D clippy::redundant-clone` implied by `-D warnings`
note: this value is dropped without further use
  --> $DIR/unnecessary_to_owned.rs:151:20
   |
LL |     require_c_str(&CString::from_vec_with_nul(vec![0]).unwrap().to_owned());
   |                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error: redundant clone
  --> $DIR/unnecessary_to_owned.rs:152:40
   |
LL |     require_os_str(&OsString::from("x").to_os_string());
   |                                        ^^^^^^^^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> $DIR/unnecessary_to_owned.rs:152:21
   |
LL |     require_os_str(&OsString::from("x").to_os_string());
   |                     ^^^^^^^^^^^^^^^^^^^

error: redundant clone
  --> $DIR/unnecessary_to_owned.rs:153:48
   |
LL |     require_path(&std::path::PathBuf::from("x").to_path_buf());
   |                                                ^^^^^^^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> $DIR/unnecessary_to_owned.rs:153:19
   |
LL |     require_path(&std::path::PathBuf::from("x").to_path_buf());
   |                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error: redundant clone
  --> $DIR/unnecessary_to_owned.rs:154:35
   |
LL |     require_str(&String::from("x").to_string());
   |                                   ^^^^^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> $DIR/unnecessary_to_owned.rs:154:18
   |
LL |     require_str(&String::from("x").to_string());
   |                  ^^^^^^^^^^^^^^^^^

error: redundant clone
  --> $DIR/unnecessary_to_owned.rs:155:39
   |
LL |     require_slice(&[String::from("x")].to_owned());
   |                                       ^^^^^^^^^^^ help: remove this
   |
note: this value is dropped without further use
  --> $DIR/unnecessary_to_owned.rs:155:20
   |
LL |     require_slice(&[String::from("x")].to_owned());
   |                    ^^^^^^^^^^^^^^^^^^^

error: unnecessary use of `into_owned`
  --> $DIR/unnecessary_to_owned.rs:60:36
   |
LL |     require_c_str(&Cow::from(c_str).into_owned());
   |                                    ^^^^^^^^^^^^^ help: remove this
   |
   = note: `-D clippy::unnecessary-to-owned` implied by `-D warnings`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:61:19
   |
LL |     require_c_str(&c_str.to_owned());
   |                   ^^^^^^^^^^^^^^^^^ help: use: `c_str`

error: unnecessary use of `to_os_string`
  --> $DIR/unnecessary_to_owned.rs:63:20
   |
LL |     require_os_str(&os_str.to_os_string());
   |                    ^^^^^^^^^^^^^^^^^^^^^^ help: use: `os_str`

error: unnecessary use of `into_owned`
  --> $DIR/unnecessary_to_owned.rs:64:38
   |
LL |     require_os_str(&Cow::from(os_str).into_owned());
   |                                      ^^^^^^^^^^^^^ help: remove this

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:65:20
   |
LL |     require_os_str(&os_str.to_owned());
   |                    ^^^^^^^^^^^^^^^^^^ help: use: `os_str`

error: unnecessary use of `to_path_buf`
  --> $DIR/unnecessary_to_owned.rs:67:18
   |
LL |     require_path(&path.to_path_buf());
   |                  ^^^^^^^^^^^^^^^^^^^ help: use: `path`

error: unnecessary use of `into_owned`
  --> $DIR/unnecessary_to_owned.rs:68:34
   |
LL |     require_path(&Cow::from(path).into_owned());
   |                                  ^^^^^^^^^^^^^ help: remove this

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:69:18
   |
LL |     require_path(&path.to_owned());
   |                  ^^^^^^^^^^^^^^^^ help: use: `path`

error: unnecessary use of `to_string`
  --> $DIR/unnecessary_to_owned.rs:71:17
   |
LL |     require_str(&s.to_string());
   |                 ^^^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `into_owned`
  --> $DIR/unnecessary_to_owned.rs:72:30
   |
LL |     require_str(&Cow::from(s).into_owned());
   |                              ^^^^^^^^^^^^^ help: remove this

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:73:17
   |
LL |     require_str(&s.to_owned());
   |                 ^^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_string`
  --> $DIR/unnecessary_to_owned.rs:74:17
   |
LL |     require_str(&x_ref.to_string());
   |                 ^^^^^^^^^^^^^^^^^^ help: use: `x_ref.as_ref()`

error: unnecessary use of `to_vec`
  --> $DIR/unnecessary_to_owned.rs:76:19
   |
LL |     require_slice(&slice.to_vec());
   |                   ^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `into_owned`
  --> $DIR/unnecessary_to_owned.rs:77:36
   |
LL |     require_slice(&Cow::from(slice).into_owned());
   |                                    ^^^^^^^^^^^^^ help: remove this

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:78:19
   |
LL |     require_slice(&array.to_owned());
   |                   ^^^^^^^^^^^^^^^^^ help: use: `array.as_ref()`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:79:19
   |
LL |     require_slice(&array_ref.to_owned());
   |                   ^^^^^^^^^^^^^^^^^^^^^ help: use: `array_ref.as_ref()`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:80:19
   |
LL |     require_slice(&slice.to_owned());
   |                   ^^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `into_owned`
  --> $DIR/unnecessary_to_owned.rs:83:42
   |
LL |     require_x(&Cow::<X>::Owned(x.clone()).into_owned());
   |                                          ^^^^^^^^^^^^^ help: remove this

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:86:25
   |
LL |     require_deref_c_str(c_str.to_owned());
   |                         ^^^^^^^^^^^^^^^^ help: use: `c_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:87:26
   |
LL |     require_deref_os_str(os_str.to_owned());
   |                          ^^^^^^^^^^^^^^^^^ help: use: `os_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:88:24
   |
LL |     require_deref_path(path.to_owned());
   |                        ^^^^^^^^^^^^^^^ help: use: `path`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:89:23
   |
LL |     require_deref_str(s.to_owned());
   |                       ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:90:25
   |
LL |     require_deref_slice(slice.to_owned());
   |                         ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:92:30
   |
LL |     require_impl_deref_c_str(c_str.to_owned());
   |                              ^^^^^^^^^^^^^^^^ help: use: `c_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:93:31
   |
LL |     require_impl_deref_os_str(os_str.to_owned());
   |                               ^^^^^^^^^^^^^^^^^ help: use: `os_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:94:29
   |
LL |     require_impl_deref_path(path.to_owned());
   |                             ^^^^^^^^^^^^^^^ help: use: `path`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:95:28
   |
LL |     require_impl_deref_str(s.to_owned());
   |                            ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:96:30
   |
LL |     require_impl_deref_slice(slice.to_owned());
   |                              ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:98:29
   |
LL |     require_deref_str_slice(s.to_owned(), slice.to_owned());
   |                             ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:98:43
   |
LL |     require_deref_str_slice(s.to_owned(), slice.to_owned());
   |                                           ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:99:29
   |
LL |     require_deref_slice_str(slice.to_owned(), s.to_owned());
   |                             ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:99:47
   |
LL |     require_deref_slice_str(slice.to_owned(), s.to_owned());
   |                                               ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:101:26
   |
LL |     require_as_ref_c_str(c_str.to_owned());
   |                          ^^^^^^^^^^^^^^^^ help: use: `c_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:102:27
   |
LL |     require_as_ref_os_str(os_str.to_owned());
   |                           ^^^^^^^^^^^^^^^^^ help: use: `os_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:103:25
   |
LL |     require_as_ref_path(path.to_owned());
   |                         ^^^^^^^^^^^^^^^ help: use: `path`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:104:24
   |
LL |     require_as_ref_str(s.to_owned());
   |                        ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:105:24
   |
LL |     require_as_ref_str(x.to_owned());
   |                        ^^^^^^^^^^^^ help: use: `&x`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:106:26
   |
LL |     require_as_ref_slice(array.to_owned());
   |                          ^^^^^^^^^^^^^^^^ help: use: `array`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:107:26
   |
LL |     require_as_ref_slice(array_ref.to_owned());
   |                          ^^^^^^^^^^^^^^^^^^^^ help: use: `array_ref`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:108:26
   |
LL |     require_as_ref_slice(slice.to_owned());
   |                          ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:110:31
   |
LL |     require_impl_as_ref_c_str(c_str.to_owned());
   |                               ^^^^^^^^^^^^^^^^ help: use: `c_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:111:32
   |
LL |     require_impl_as_ref_os_str(os_str.to_owned());
   |                                ^^^^^^^^^^^^^^^^^ help: use: `os_str`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:112:30
   |
LL |     require_impl_as_ref_path(path.to_owned());
   |                              ^^^^^^^^^^^^^^^ help: use: `path`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:113:29
   |
LL |     require_impl_as_ref_str(s.to_owned());
   |                             ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:114:29
   |
LL |     require_impl_as_ref_str(x.to_owned());
   |                             ^^^^^^^^^^^^ help: use: `&x`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:115:31
   |
LL |     require_impl_as_ref_slice(array.to_owned());
   |                               ^^^^^^^^^^^^^^^^ help: use: `array`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:116:31
   |
LL |     require_impl_as_ref_slice(array_ref.to_owned());
   |                               ^^^^^^^^^^^^^^^^^^^^ help: use: `array_ref`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:117:31
   |
LL |     require_impl_as_ref_slice(slice.to_owned());
   |                               ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:119:30
   |
LL |     require_as_ref_str_slice(s.to_owned(), array.to_owned());
   |                              ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:119:44
   |
LL |     require_as_ref_str_slice(s.to_owned(), array.to_owned());
   |                                            ^^^^^^^^^^^^^^^^ help: use: `array`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:120:30
   |
LL |     require_as_ref_str_slice(s.to_owned(), array_ref.to_owned());
   |                              ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:120:44
   |
LL |     require_as_ref_str_slice(s.to_owned(), array_ref.to_owned());
   |                                            ^^^^^^^^^^^^^^^^^^^^ help: use: `array_ref`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:121:30
   |
LL |     require_as_ref_str_slice(s.to_owned(), slice.to_owned());
   |                              ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:121:44
   |
LL |     require_as_ref_str_slice(s.to_owned(), slice.to_owned());
   |                                            ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:122:30
   |
LL |     require_as_ref_slice_str(array.to_owned(), s.to_owned());
   |                              ^^^^^^^^^^^^^^^^ help: use: `array`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:122:48
   |
LL |     require_as_ref_slice_str(array.to_owned(), s.to_owned());
   |                                                ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:123:30
   |
LL |     require_as_ref_slice_str(array_ref.to_owned(), s.to_owned());
   |                              ^^^^^^^^^^^^^^^^^^^^ help: use: `array_ref`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:123:52
   |
LL |     require_as_ref_slice_str(array_ref.to_owned(), s.to_owned());
   |                                                    ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:124:30
   |
LL |     require_as_ref_slice_str(slice.to_owned(), s.to_owned());
   |                              ^^^^^^^^^^^^^^^^ help: use: `slice`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:124:48
   |
LL |     require_as_ref_slice_str(slice.to_owned(), s.to_owned());
   |                                                ^^^^^^^^^^^^ help: use: `s`

error: unnecessary use of `to_string`
  --> $DIR/unnecessary_to_owned.rs:126:20
   |
LL |     let _ = x.join(&x_ref.to_string());
   |                    ^^^^^^^^^^^^^^^^^^ help: use: `x_ref`

error: unnecessary use of `to_vec`
  --> $DIR/unnecessary_to_owned.rs:128:13
   |
LL |     let _ = slice.to_vec().into_iter();
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `slice.iter().copied()`

error: unnecessary use of `to_owned`
  --> $DIR/unnecessary_to_owned.rs:129:13
   |
LL |     let _ = slice.to_owned().into_iter();
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `slice.iter().copied()`

error: unnecessary use of `to_vec`
  --> $DIR/unnecessary_to_owned.rs:130:13
   |
LL |     let _ = [std::path::PathBuf::new()][..].to_vec().into_iter();
   |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ help: use: `[std::path::PathBuf::new()][..].iter().cloned()`

thread 'rustc' panicked at 'index out of bounds: the len is 0 but the index is 0', clippy_lints/src/path_from_format.rs:39:41
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace

error: internal compiler error: unexpected panic

note: the compiler unexpectedly panicked. this is a bug.

note: we would appreciate a bug report: https://github.com/rust-lang/rust-clippy/issues/new

note: Clippy version: clippy 0.1.62 (01d75b195 2022-05-13)

query stack during panic:
#0 [analysis] running analysis passes on this crate
end of query stack
error: aborting due to 69 previous errors

